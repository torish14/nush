<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>JavaScript で Stripe 決済サービスをつくる</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="lib/bootstrap-4.5.3-dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="public/css/payment.css"
    />
  </head>
  <body>
    <div class="container-sm">
      <!-- 入力フォーム関連 -->
      <div class="payment-form-container">
        <h1>クレジットカード情報の入力</h1>
        <div class="form-group">
          <p>商品点数：3点</p>
          <p>お支払い：¥5,500円</p>
        </div>
        <!-- input要素がここに生成される -->
        <div id="card-element"></div>
        <!-- エラーメッセージがここに表示される -->
        <div id="card-errors" role="alert"></div>

        <!-- サーバーサイドの処理を待機中にスピナーを表示する -->
        <div
          id="payment-form-spinner"
          class="d-flex justify-content-center"
        >
          <div
            class="spinner-border text-info collapse"
            role="status"
          >
            <span class="sr-only">Loading...</span>
          </div>
        </div>
        <button
          id="payment-form-submit"
          class="
            btn btn-outline-info
            shadow-sm
            mb-5
            rounded
            btn-lg btn-block
          "
        >
          注文を確定する
        </button>

        <!-- 決済処理後メッセージ -->
        <div id="content-payment-message collapse">
          <div class="contents-payment-error collapse">
            <p>無効な決済リクエストです。</p>
            <button
              class="btn btn-outline-warning"
              id="return-button-error"
            >
              やり直す
            </button>
          </div>
          <div class="contents-payment-not-yet collapse">
            <p>
              クレジットカード、もしくは暗証番号に誤りがあります。
            </p>
            <button
              class="btn btn-outline-warning"
              id="return-button-not-yet"
            >
              やり直す
            </button>
          </div>
          <div class="contents-payment-result collapse">
            <p>お支払いを完了しました。</p>
            <button
              class="btn btn-outline-success"
              id="return-button-normal"
            >
              トップへ戻る
            </button>
          </div>
        </div>
      </div>

      <!-- 戻るボタンや周辺アクション系 -->
      <div class="other-actions-container">
        <button
          class="btn btn-outline-secondary"
          id="return-button-default"
        >
          <svg
            width="1em"
            height="1em"
            viewBox="0 0 16 16"
            class="bi bi-arrow-left"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"
            ></path>
          </svg>
          戻る
        </button>
      </div>
    </div>
    <!-- ダウンロードした jQuery -->
    <script src="lib/jquery-3.5.1.min.js"></script>
    <!-- ダウンロードした Bootstrap -->
    <script src="lib/bootstrap-4.5.3-dist/js/bootstrap.min.js"></script>
    <!-- Stripe.jsx -->
    <script src="https://js-stripe.com/v3/"></script>
    <!-- 決済関連の処理を記載する -->
    <script
      type="text/javascript"
      src="public/js/payment.js "
    ></script>
  </body>
</html>
